exports.id=284,exports.ids=[284],exports.modules={3063:(e,t,r)=>{let a={"1c9e169f8620cf50fdd5e1aa3069c8ca1f81564b":()=>Promise.resolve().then(r.bind(r,2229)).then(e=>e.updateComplaintAction),"4fcd0957814776ddeacd97d1f9bfc608d2d262ed":()=>Promise.resolve().then(r.bind(r,2229)).then(e=>e.createComplaintAction),b60ce4049ede2f842c41b009d4648ef01f0d914d:()=>Promise.resolve().then(r.bind(r,2229)).then(e=>e.deleteComplaintAction)};async function o(e,...t){return(await a[e]()).apply(null,t)}e.exports={"1c9e169f8620cf50fdd5e1aa3069c8ca1f81564b":o.bind(null,"1c9e169f8620cf50fdd5e1aa3069c8ca1f81564b"),"4fcd0957814776ddeacd97d1f9bfc608d2d262ed":o.bind(null,"4fcd0957814776ddeacd97d1f9bfc608d2d262ed"),b60ce4049ede2f842c41b009d4648ef01f0d914d:o.bind(null,"b60ce4049ede2f842c41b009d4648ef01f0d914d")}},9342:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},8376:(e,t,r)=>{Promise.resolve().then(r.bind(r,4462)),Promise.resolve().then(r.bind(r,422)),Promise.resolve().then(r.bind(r,4690))},4462:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var a=r(326),o=r(4690),n=r(5047);function s(){let{currentUser:e,logout:t}=(0,o.a)(),r=(0,n.useRouter)(),s=async()=>{try{await t(),r.push("/login")}catch(e){console.error("Logout failed:",e)}};return a.jsx("div",{children:e?(0,a.jsxs)("div",{children:[a.jsx("span",{style:{fontWeight:600,fontSize:"1.1em",marginRight:"1em"},children:e.email||"User"}),a.jsx("button",{className:"btn",onClick:s,children:"Logout"})]}):a.jsx("button",{className:"btn",onClick:()=>r.push("/login"),children:"Login"})})}},1664:(e,t,r)=>{"use strict";r.d(t,{z:()=>n});var a=r(326),o=r(1223);let n=r(7577).forwardRef(({className:e,variant:t="primary",size:r="md",...n},s)=>{let i="";switch(t){case"primary":i="bg-gradient-to-r from-blue-500 via-pink-500 to-yellow-500 text-white shadow-lg rounded-lg hover:from-blue-600 hover:via-pink-600 hover:to-yellow-600";break;case"secondary":i="bg-gradient-to-r from-blue-200 via-pink-200 to-yellow-200 text-blue-900 dark:text-blue-200 rounded-lg hover:from-blue-300 hover:via-pink-300 hover:to-yellow-300";break;case"destructive":i="bg-red-600 text-white rounded-lg hover:bg-red-700";break;case"ghost":i="bg-transparent text-primary hover:bg-blue-50 dark:hover:bg-zinc-800 rounded-lg";break;case"outline":i="border border-blue-400 text-blue-700 dark:text-blue-300 bg-white dark:bg-zinc-900 rounded-lg hover:bg-blue-50 dark:hover:bg-zinc-800";break;default:i=""}let d="";switch(r){case"sm":d="px-3 py-1.5 text-sm";break;case"lg":d="px-6 py-3 text-lg";break;default:d="px-4 py-2 text-base"}return a.jsx("button",{ref:s,className:(0,o.cn)("inline-flex items-center justify-center font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",i,d,e),...n})});n.displayName="Button"},422:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>v});var a=r(326),o=r(7577),n=r(2076),s=r(9360),i=r(4019),d=r(1223);let l=n.zt,c=o.forwardRef(({className:e,...t},r)=>a.jsx(n.l_,{ref:r,className:(0,d.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));c.displayName=n.l_.displayName;let u=(0,s.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=o.forwardRef(({className:e,variant:t,...r},o)=>a.jsx(n.fC,{ref:o,className:(0,d.cn)(u({variant:t}),e),...r}));f.displayName=n.fC.displayName,o.forwardRef(({className:e,...t},r)=>a.jsx(n.aU,{ref:r,className:(0,d.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=n.aU.displayName;let m=o.forwardRef(({className:e,...t},r)=>a.jsx(n.x8,{ref:r,className:(0,d.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(i.Z,{className:"h-4 w-4"})}));m.displayName=n.x8.displayName;let p=o.forwardRef(({className:e,...t},r)=>a.jsx(n.Dx,{ref:r,className:(0,d.cn)("text-sm font-semibold",e),...t}));p.displayName=n.Dx.displayName;let g=o.forwardRef(({className:e,...t},r)=>a.jsx(n.dk,{ref:r,className:(0,d.cn)("text-sm opacity-90",e),...t}));g.displayName=n.dk.displayName;var b=r(4097);function v(){let{toasts:e}=(0,b.p)();return(0,a.jsxs)(l,{children:[e.map(({id:e,title:t,description:r,action:o,variant:n})=>(0,a.jsxs)(f,{variant:n,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[t&&a.jsx(p,{children:t}),r&&a.jsx(g,{children:r})]}),o,a.jsx(m,{})]},e)),a.jsx(c,{})]})}},4690:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>l,a:()=>c});var a=r(326),o=r(7577),n=r(445),s=r(6951);r(76);var i=r(4097);let d=(0,o.createContext)({currentUser:null,loading:!0,logout:async()=>{}});function l({children:e}){let[t,r]=(0,o.useState)(null),[l,c]=(0,o.useState)(!0),{toast:u}=(0,i.p)(),f=async()=>{try{await (0,s.w7)(n.I),r(null),u({title:"Success",description:"Logged out successfully."})}catch(e){throw console.error("Logout error:",e),u({title:"Error",description:"Failed to log out.",variant:"destructive"}),e}};return a.jsx(d.Provider,{value:{currentUser:t,loading:l,logout:f},children:e})}function c(){return(0,o.useContext)(d)}},4097:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(7577);(0,r(9360).j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}});let o=0;function n(){let[e,t]=(0,a.useState)([]);return{toast:(0,a.useCallback)(({variant:e,title:r,description:a,action:n,...s})=>{let i=(o++).toString();return t(t=>[...t,{id:i,variant:e,title:r,description:a,action:n,...s}]),i},[]),dismiss:(0,a.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),update:(0,a.useCallback)((e,{variant:r,title:a,description:o,action:n,...s})=>{t(t=>t.map(t=>t.id===e?{...t,variant:r,title:a,description:o,action:n,...s}:t))},[]),toasts:e}}},3682:(e,t,r)=>{"use strict";r.d(t,{GH:()=>n,Rj:()=>o,Rw:()=>s}),r(5424);var a=r(6242),o=(0,a.$)("b60ce4049ede2f842c41b009d4648ef01f0d914d"),n=(0,a.$)("4fcd0957814776ddeacd97d1f9bfc608d2d262ed"),s=(0,a.$)("1c9e169f8620cf50fdd5e1aa3069c8ca1f81564b")},445:(e,t,r)=>{"use strict";r.d(t,{I:()=>d,db:()=>l});var a=r(2585),o=r(6951),n=r(76),s=r(1552);let i=(0,a.ZF)({apiKey:"AIzaSyDBgH3vn2ec1FwRRkVIG5gAR9Jkno5VCR4",authDomain:"maintenance-flow-1c30c.firebaseapp.com",projectId:"maintenance-flow-1c30c",storageBucket:"maintenance-flow-1c30c.appspot.com",messagingSenderId:"116876204407",appId:"1:116876204407:web:7641e3dbb7a48cd69c6972"}),d=(0,o.v0)(i),l=(0,n.ad)(i);(0,s.cF)(i)},1223:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(1135),o=r(1009);function n(...e){return(0,o.m6)((0,a.W)(e))}},4845:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>d});var a=r(9510),o=r(8570);let n=(0,o.createProxy)(String.raw`D:\Final working model\15-06-2025\dc\src\context\AuthContext.tsx#AuthProvider`);(0,o.createProxy)(String.raw`D:\Final working model\15-06-2025\dc\src\context\AuthContext.tsx#useAuth`);let s=(0,o.createProxy)(String.raw`D:\Final working model\15-06-2025\dc\src\components\AppHeader.tsx#default`),i=(0,o.createProxy)(String.raw`D:\Final working model\15-06-2025\dc\src\components\ui\toaster.tsx#Toaster`);r(5023);let d={title:"Maintenance Flow",description:"Complaint Management System"};function l({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:"App",children:(0,a.jsxs)(n,{children:[(0,a.jsxs)("div",{className:"App-header",children:[a.jsx("h1",{children:"Maintenance Flow"}),a.jsx(s,{})]}),a.jsx("main",{children:e}),a.jsx(i,{})]})})})}},2229:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createComplaintAction:()=>m,deleteComplaintAction:()=>g,updateComplaintAction:()=>p});var a=r(7745);r(6461);var o=r(5825),n=r(6986),s=r(4964),i=r(7231);let d=(0,o.ZF)({apiKey:"AIzaSyDBgH3vn2ec1FwRRkVIG5gAR9Jkno5VCR4",authDomain:"maintenance-flow-1c30c.firebaseapp.com",projectId:"maintenance-flow-1c30c",storageBucket:"maintenance-flow-1c30c.appspot.com",messagingSenderId:"116876204407",appId:"1:116876204407:web:7641e3dbb7a48cd69c6972"});(0,n.v0)(d);let l=(0,s.ad)(d);(0,i.cF)(d);var c=r(7189),u=r(5723);let f=c.z.object({complaintId:c.z.string(),complaintDate:c.z.string(),machineName:c.z.string().min(1,"Machine name is required"),complaintDescription:c.z.string().min(1,"Description is required"),priority:c.z.enum(["Low","Medium","High"]),complaintStatus:c.z.enum(["Open","In Progress","Pending Parts","Resolved","Closed","Cancelled"]).default("Open"),actionDate:c.z.string().nullable().default(null),maintenanceRemarks:c.z.string().nullable().default(null),initialInspectionDate:c.z.string().nullable().default(null),estimatedEndDate:c.z.string().nullable().default(null),finalizationDate:c.z.string().nullable().default(null),createdBy:c.z.string().email("Valid email required"),department:c.z.string().min(1,"Department is required"),assignedTo:c.z.string().default("Person A"),materialsUsed:c.z.array(c.z.object({name:c.z.string().min(1,"Material name required"),quantity:c.z.string().min(1,"Quantity required"),remarks:c.z.string().optional()})).default([]),history:c.z.array(c.z.object({action:c.z.string(),user:c.z.string(),timestamp:c.z.string()})).default([])});async function m(e){console.log("[createComplaintAction] Called with data:",e),console.log("[createComplaintAction] createdBy:",e.createdBy);try{let t=f.parse(e);console.log("[createComplaintAction] Data validated, about to call addDoc...");let r=await (0,s.ET)((0,s.hJ)(l,"complaints"),t);return console.log("[createComplaintAction] Firestore write successful! New doc id:",r.id),{success:!0,id:r.id,message:"Complaint created successfully"}}catch(e){if(e instanceof c.z.ZodError)return console.error("[createComplaintAction] Zod validation error:",e.errors),{success:!1,message:"Validation failed",error:JSON.stringify(e.errors)};return console.error("[createComplaintAction] Firestore write failed:",e),{success:!1,message:"Failed to create complaint",error:e instanceof Error?e.stack||e.message:String(e)}}}async function p(e,t){try{console.log("[updateComplaintAction] Called with id:",e,"and data:",t);let r=f.parse(t),a=(0,s.JU)(l,"complaints",e);return await (0,s.r7)(a,r),console.log("[updateComplaintAction] Firestore update successful for id:",e),{success:!0,message:"Complaint updated successfully"}}catch(t){if(t instanceof c.z.ZodError)return console.error("[updateComplaintAction] Zod validation error:",t.errors),{success:!1,message:"Validation failed",error:JSON.stringify(t.errors)};return console.error("[updateComplaintAction] Firestore update failed for id:",e,"Error:",t),{success:!1,message:"Failed to update complaint",error:t instanceof Error?t.stack||t.message:String(t)}}}async function g(e){try{console.log("[deleteComplaintAction] Called with id:",e);let t=(0,s.JU)(l,"complaints",e);return await (0,s.oe)(t),console.log("[deleteComplaintAction] Firestore delete successful for id:",e),{success:!0,message:"Complaint deleted successfully"}}catch(t){return console.error("[deleteComplaintAction] Firestore delete failed for id:",e,"Error:",t),{success:!1,message:"Failed to delete complaint",error:t instanceof Error?t.message:String(t)}}}(0,u.h)([m,p,g]),(0,a.j)("4fcd0957814776ddeacd97d1f9bfc608d2d262ed",m),(0,a.j)("1c9e169f8620cf50fdd5e1aa3069c8ca1f81564b",p),(0,a.j)("b60ce4049ede2f842c41b009d4648ef01f0d914d",g)},5023:()=>{}};